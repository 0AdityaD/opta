{
    "$id": "https://app.runx.dev/opta-config-files/optaenv",
    "description": "The Opta configuration for an environment",
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "description": "The name of the environment"
        },
        "org_name": {
            "$ref": "https://app.runx.dev/common-types/org-name"
        },
        "providers": {
            "oneof": [
                {
                    "type": "object",
                    "properties": {
                        "aws": {
                            "type": "object",
                            "properties": {
                                "region": {
                                    "type": "string",
                                    "description": "The AWS region to use"
                                },
                                "account_id": {
                                    "type": "string",
                                    "description": "The AWS access key ID"
                                }
                            },
                            "required": [
                                "region",
                                "account_id"
                            ]
                        }
                    },
                    "required": [
                        "aws"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "google": {
                            "type": "object",
                            "properties": {
                                "region": {
                                    "type": "string",
                                    "description": "The GCP region to use"
                                },
                                "project": {
                                    "type": "string",
                                    "description": "The name of the GCP project"
                                }
                            },
                            "required": [
                                "region",
                                "project"
                            ]
                        }
                    },
                    "required": [
                        "google"
                    ]
                },

                {
                    "type": "object",
                    "properties": {
                      "local": {
                        "type": "object",
                        "properties": {}
                      }
                    },
                    "required": [
                      "local"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                        "azurerm": {
                            "type": "object",
                            "properties": {
                                "location": {
                                    "type": "string",
                                    "description": "The Azure location to use"
                                },
                                "tenant_id": {
                                    "type": "string",
                                    "description": "Azure Tenant id"
                                },
                                "subscription_id"
                            },
                            "required": [
                                "region",
                                "project"
                            ]
                        }
                    },
                    "required": [
                        "azurerm"
                    ]
                },
            ]
        }